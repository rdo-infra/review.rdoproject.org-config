- job:
    name: 'newton-distgit-cbs-validate'
    defaults: global
    builders:
      - base-pkg-validation:
          buildtarget: "cloud7-openstack-newton-el7"
          kojicmd: "cbs"
      - shell: |
          sudo rpm -i /home/jenkins/rpmbuild/RPMS/noarch/rpmfactory-temp-release-1.0-1.noarch.rpm
          yum list --disablerepo=* --enablerepo=rpmfactory-temp-release
    triggers:
      - zuul
    wrappers:
      - credentials-binding:
        - file:
           credential-id: e9b465e2-abfe-418c-8026-edc8c3f21a12
           variable: CLIENTSECRET
    node: rdo-weirdo-centos-7

#- job:
#    name: 'rpmlint-validate'
#    defaults: global
#    builders:
#      - base-pkg-validation:
#          buildtarget: "cloud7-openstack-liberty-el7"
#          kojicmd: "koji"
#      - shell: |
#          echo "Please add logic to test rpmlint here."
#    triggers:
#      - zuul
#    wrappers:
#      - credentials-binding:
#        - file:
#           credential-id: 86d1bd02-65b8-4fe9-906f-04cfcb68b13a
#           variable: CLIENTSECRET
#    node: rdo-centos7-liberty
#
#- job:
#    name: 'pkg-upgrade-validate'
#    defaults: global
#    builders:
#      - base-pkg-validation:
#          buildtarget: "cloud7-openstack-liberty-el7"
#          kojicmd: "koji"
#      - shell: |
#          echo "Please add logic to test the package can be upgraded."
#    triggers:
#      - zuul
#    wrappers:
#      - credentials-binding:
#        - file:
#           credential-id: 86d1bd02-65b8-4fe9-906f-04cfcb68b13a
#           variable: CLIENTSECRET
#    node: rdo-centos7-liberty
#
#- job:
#    name: 'pkg-export'
#    defaults: global
#    builders:
#      - base-pkg-exportation:
#          buildtarget: "cloud7-openstack-liberty-el7"
#          kojicmd: "koji"
#      - shell: |
#          echo "If displayed then package as been published (non-scratch)."
#          echo "Nothing more to do. Exit 0."
#    triggers:
#      - zuul
#    wrappers:
#      - credentials-binding:
#        - file:
#           credential-id: 86d1bd02-65b8-4fe9-906f-04cfcb68b13a
#           variable: CLIENTSECRET
#    node: rdo-centos7-liberty
