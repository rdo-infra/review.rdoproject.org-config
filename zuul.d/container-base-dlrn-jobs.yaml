---
- job:
    name: periodic-podified-edpm-deployment-master-ocp-crc-1cs9-dlrn
    parent: periodic-podified-edpm-deployment-master-ocp-crc-1cs9
    description: |
      A edpm job that reports to DLRN
    post-run:
      - playbooks/ci-framework-rdo-base/dlrn/dlrn-report.yaml
    required-projects: &required_projects
      - name: openstack-k8s-operators/install_yamls
        override-checkout: main
      - name: openstack-k8s-operators/openstack-operator
        override-checkout: main
      - name: github.com/openstack-k8s-operators/ci-framework
        override-checkout: main
      - name: github.com/openstack-k8s-operators/repo-setup
        override-checkout: main
      - name: github.com/openstack-k8s-operators/dataplane-operator
        override-checkout: main
      - name: github.com/openstack-k8s-operators/infra-operator
        override-checkout: main
      - name: github.com/openstack-k8s-operators/openstack-baremetal-operator
        override-checkout: main
      - name: github.com/openstack-k8s-operators/edpm-ansible
        override-checkout: main
    roles:
      - zuul: github.com/openstack-k8s-operators/ci-framework
    vars: &dlrn_master_vars
      release: master
      cifmw_repo_setup_branch: master
    secrets:
      - dlrnapi

- job:
    name: periodic-podified-edpm-baremetal-master-ocp-crc-dlrn
    parent: periodic-podified-edpm-baremetal-master-ocp-crc
    description: |
      A baremetal job that reports to DLRN
    post-run:
      - playbooks/ci-framework-rdo-base/dlrn/dlrn-report.yaml
    required-projects: *required_projects
    roles:
      - zuul: github.com/openstack-k8s-operators/ci-framework
    vars: *dlrn_master_vars
    secrets:
      - dlrnapi

- job:
    name: periodic-edpm-build-push-images-centos-9-master-dlrn
    parent: periodic-edpm-build-push-images-centos-9-master
    description: |
      A EDPM images push job that reports to DLRN
    post-run:
      - playbooks/ci-framework-rdo-base/dlrn/dlrn-report.yaml
    roles:
      - zuul: github.com/openstack-k8s-operators/ci-framework
    vars: *dlrn_master_vars
    secrets:
      - dlrnapi

# Antelope jobs
- job:
    name: periodic-podified-edpm-deployment-antelope-ocp-crc-1cs9-dlrn
    parent: periodic-podified-edpm-deployment-master-ocp-crc-1cs9-dlrn
    vars:
      cifmw_repo_setup_branch: antelope
      cifmw_set_openstack_containers_namespace: podified-{{ cifmw_repo_setup_branch }}-centos9
      release: antelope

- job:
    name: periodic-podified-edpm-baremetal-antelope-ocp-crc-dlrn
    parent: periodic-podified-edpm-baremetal-master-ocp-crc-dlrn
    vars:
      cifmw_repo_setup_branch: antelope
      cifmw_set_openstack_containers_namespace: podified-{{ cifmw_repo_setup_branch }}-centos9
      release: antelope

- job:
    name: periodic-edpm-build-push-images-centos-9-antelope-dlrn
    parent: periodic-edpm-build-push-images-centos-9-master-dlrn
    vars:
      cifmw_repo_setup_branch: antelope
      openstack_release: "{{ cifmw_repo_setup_branch }}"
      cifmw_edpm_build_images_push_registry_namespace: "podified-{{ cifmw_repo_setup_branch }}-centos9"
      release: antelope
