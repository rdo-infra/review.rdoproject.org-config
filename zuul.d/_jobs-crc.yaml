---
- job:
    name: base-crc
    parent: base-minimal
    description: |
      A base job that starts CRC environment
    pre-run: playbooks/crc/start.yaml
    required-projects:
      - github.com/openstack-k8s-operators/install_yamls
      - opendev.org/zuul/zuul-jobs
    attempts: 3
    secrets:
      - crc_secret

- job:
    name: multinode-crc
    parent: multinode
    required-projects:
      - github.com/openstack-k8s-operators/install_yamls
      - opendev.org/zuul/zuul-jobs
      - opendev.org/openstack/openstack-zuul-jobs
    roles:
      - zuul: opendev.org/zuul/zuul-jobs
      - zuul: opendev.org/openstack/openstack-zuul-jobs
    pre-run:
      - playbooks/crc/multinode.yaml
      - playbooks/crc/start.yaml
    attempts: 3
    secrets:
      - crc_secret 

- job:
    name: standalone-crc
    parent: periodic-tripleo-ci-standalone-rdo-centos-8
    required-projects:
      - github.com/openstack-k8s-operators/install_yamls
      - opendev.org/zuul/zuul-jobs
    pre-run: playbooks/crc/start.yaml
    attempts: 3
    secrets:
      - crc_secret 