{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "33ea03af_3d6b3f69",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 739
      },
      "writtenOn": "2022-04-12T19:03:24Z",
      "side": 1,
      "message": "+1: we may have a minor improvement ",
      "revId": "bf6097b9856c91c919bd6941e3f0f36f0d811ba6",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee601f05_75ad8f0f",
        "filename": "playbooks/tripleo-rdo-base/container-login-quay.yaml",
        "patchSetId": 8
      },
      "lineNbr": 19,
      "author": {
        "id": 192
      },
      "writtenOn": "2022-04-13T06:51:48Z",
      "side": 1,
      "message": "repetition isn\u0027t ideal because its something we could easily mess up it is very exact ;)\n\nwould be great if we had this in a seperate file and then do include_tasks wdyt? (it would just be a single task that sets the required fact.",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 213
      },
      "revId": "bf6097b9856c91c919bd6941e3f0f36f0d811ba6",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e3d0a24_056191c9",
        "filename": "playbooks/tripleo-rdo-base/container-login-quay.yaml",
        "patchSetId": 8
      },
      "lineNbr": 19,
      "author": {
        "id": 716
      },
      "writtenOn": "2022-04-13T15:52:37Z",
      "side": 1,
      "message": "yep, that would be better. But lemme make a separate patch for it. I wanted to check at first if the quay login for master and train are even working.",
      "parentUuid": "ee601f05_75ad8f0f",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 213
      },
      "revId": "bf6097b9856c91c919bd6941e3f0f36f0d811ba6",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d654cc99_741e42e3",
        "filename": "playbooks/tripleo-rdo-base/container-login-quay.yaml",
        "patchSetId": 8
      },
      "lineNbr": 19,
      "author": {
        "id": 192
      },
      "writtenOn": "2022-04-14T07:03:34Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "4e3d0a24_056191c9",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 213
      },
      "revId": "bf6097b9856c91c919bd6941e3f0f36f0d811ba6",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d37bef2c_babb61fb",
        "filename": "playbooks/tripleo-rdo-base/container-login-quay.yaml",
        "patchSetId": 8
      },
      "lineNbr": 19,
      "author": {
        "id": 111
      },
      "writtenOn": "2022-04-14T10:48:36Z",
      "side": 1,
      "message": "Hope it works!",
      "parentUuid": "d654cc99_741e42e3",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 213
      },
      "revId": "bf6097b9856c91c919bd6941e3f0f36f0d811ba6",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3d1cd1a_2367868b",
        "filename": "playbooks/tripleo-rdo-base/container-login.yaml",
        "patchSetId": 8
      },
      "lineNbr": 22,
      "author": {
        "id": 739
      },
      "writtenOn": "2022-04-12T19:03:24Z",
      "side": 1,
      "message": "same when condition from below, which means that both facts can be set in same task, or no?",
      "range": {
        "startLine": 22,
        "startChar": 16,
        "endLine": 22,
        "endChar": 99
      },
      "revId": "bf6097b9856c91c919bd6941e3f0f36f0d811ba6",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "55d1f91f_b4f5c47d",
        "filename": "playbooks/tripleo-rdo-base/container-login.yaml",
        "patchSetId": 8
      },
      "lineNbr": 22,
      "author": {
        "id": 192
      },
      "writtenOn": "2022-04-13T06:51:48Z",
      "side": 1,
      "message": "+1 - though it would be a nested block so be careful with spacing ;)\n\ni stared at that set_fact for a bit... its a bit fragile/we expect the secret name to be in a specific format - but i also couldn\u0027t come up with a better way ;) \n\n maybe worth a comment above the task about that expected name like \"quay_rdoproject_train_centos_8_secret\"",
      "parentUuid": "a3d1cd1a_2367868b",
      "range": {
        "startLine": 22,
        "startChar": 16,
        "endLine": 22,
        "endChar": 99
      },
      "revId": "bf6097b9856c91c919bd6941e3f0f36f0d811ba6",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b7159a2_70b57194",
        "filename": "playbooks/tripleo-rdo-base/container-login.yaml",
        "patchSetId": 8
      },
      "lineNbr": 22,
      "author": {
        "id": 716
      },
      "writtenOn": "2022-04-13T15:44:39Z",
      "side": 1,
      "message": "I tried combining the tasks into :\n```\n    - name: set vars for registry\n      when: registry_login_enabled|default(false)|bool\n      block:\n        - name: Set var name for quay login\n          set_fact:\n            quay_login_secret_name: \"{{ lookup(\u0027vars\u0027, \u0027quay_rdoproject_\u0027 + release + \u0027_\u0027 + ansible_distribution | lower + \u0027_\u0027 + ansible_distribution_major_version + \u0027_secret\u0027, default\u003dquay_rdoproject_master_centos_9_secret)}}\"\n            container_registry_logins:\n              quay.rdoproject.org:\n                tripleomastercentos9+tripleomastercentos9: \"{{ quay_login_secret_name }}\"\n          when: push_registry | default(\u0027trunk.registry.rdoproject.org\u0027) in [\"quay.rdoproject.org\"]\n```\nBut since I am setting quay_login_secret_name first and using quay_login_secret_name to set the next variable it is throwing undefned variable quay_login_secret_name",
      "parentUuid": "55d1f91f_b4f5c47d",
      "range": {
        "startLine": 22,
        "startChar": 16,
        "endLine": 22,
        "endChar": 99
      },
      "revId": "bf6097b9856c91c919bd6941e3f0f36f0d811ba6",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "80f1f1d9_0de10029",
        "filename": "playbooks/tripleo-rdo-base/container-login.yaml",
        "patchSetId": 8
      },
      "lineNbr": 22,
      "author": {
        "id": 716
      },
      "writtenOn": "2022-04-13T15:50:00Z",
      "side": 1,
      "message": "Ack @Marios. Added a comment",
      "parentUuid": "1b7159a2_70b57194",
      "range": {
        "startLine": 22,
        "startChar": 16,
        "endLine": 22,
        "endChar": 99
      },
      "revId": "bf6097b9856c91c919bd6941e3f0f36f0d811ba6",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4ea57371_f72503b7",
        "filename": "playbooks/tripleo-rdo-base/container-login.yaml",
        "patchSetId": 8
      },
      "lineNbr": 22,
      "author": {
        "id": 192
      },
      "writtenOn": "2022-04-14T07:03:34Z",
      "side": 1,
      "message": "thanks",
      "parentUuid": "80f1f1d9_0de10029",
      "range": {
        "startLine": 22,
        "startChar": 16,
        "endLine": 22,
        "endChar": 99
      },
      "revId": "bf6097b9856c91c919bd6941e3f0f36f0d811ba6",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "deb51358_1f77802e",
        "filename": "playbooks/tripleo-rdo-base/container-login.yaml",
        "patchSetId": 8
      },
      "lineNbr": 27,
      "author": {
        "id": 207
      },
      "writtenOn": "2022-04-13T09:07:52Z",
      "side": 1,
      "message": "same should be done for username. The organization name will be a prefix, but we can do a robot user with simple suffix like: \"robot\" so the username will be \"tripleomastercentos9+robot\" and it would be easier to operate",
      "range": {
        "startLine": 27,
        "startChar": 16,
        "endLine": 27,
        "endChar": 58
      },
      "revId": "bf6097b9856c91c919bd6941e3f0f36f0d811ba6",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c84b88a_51e0fb51",
        "filename": "playbooks/tripleo-rdo-base/container-login.yaml",
        "patchSetId": 8
      },
      "lineNbr": 27,
      "author": {
        "id": 716
      },
      "writtenOn": "2022-04-13T15:52:37Z",
      "side": 1,
      "message": "yep, that would be proper. Lemme put up a separate patch for it",
      "parentUuid": "deb51358_1f77802e",
      "range": {
        "startLine": 27,
        "startChar": 16,
        "endLine": 27,
        "endChar": 58
      },
      "revId": "bf6097b9856c91c919bd6941e3f0f36f0d811ba6",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    }
  ]
}